{"ast":null,"code":"import _regeneratorRuntime from\"/Users/blancooo/Web-Development/React/react-fitness-tracker/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/blancooo/Web-Development/React/react-fitness-tracker/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/blancooo/Web-Development/React/react-fitness-tracker/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";// ExerciseState.js\nimport React,{createContext,useReducer}from'react';import ExerciseReducer from'./ExerciseReducer';import axios from'axios';// Initial state\nvar initialState={exercises:[],error:null,loading:true};// Create context\nexport var ExerciseContext=createContext(initialState);// Provider component\nexport var ExerciseProvider=function ExerciseProvider(_ref){var children=_ref.children;var _useReducer=useReducer(ExerciseReducer,initialState),_useReducer2=_slicedToArray(_useReducer,2),state=_useReducer2[0],dispatch=_useReducer2[1];// Actions\n// == getExercises\nfunction getExercises(){return _getExercises.apply(this,arguments);}// == getExerciseByID\nfunction _getExercises(){_getExercises=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get('/exercises');case 3:res=_context.sent;dispatch({type:'GET_EXERCISES',payload:res.data.data});_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);dispatch({type:'EXERCISE_ERROR',payload:_context.t0.response.data.error});case 10:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}));return _getExercises.apply(this,arguments);}function getExerciseById(_x){return _getExerciseById.apply(this,arguments);}// == addExercise\nfunction _getExerciseById(){_getExerciseById=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(id){var res;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return axios.get(\"/exercises/\".concat(id));case 3:res=_context2.sent;dispatch({type:'GET_EXERCISE_By_ID',payload:res.data.data});_context2.next=10;break;case 7:_context2.prev=7;_context2.t0=_context2[\"catch\"](0);dispatch({type:'EXERCISE_ERROR',payload:_context2.t0.response.data.error});case 10:case\"end\":return _context2.stop();}}},_callee2,null,[[0,7]]);}));return _getExerciseById.apply(this,arguments);}function addExercise(_x2){return _addExercise.apply(this,arguments);}// == deleteExercise\nfunction _addExercise(){_addExercise=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(exercise){var config,res;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:config={headers:{'Content-Type':'application/json'}};_context3.prev=1;_context3.next=4;return axios.post('/exercises/add',exercise,config);case 4:res=_context3.sent;dispatch({type:'ADD_EXERCISE',payload:res.data.data});_context3.next=11;break;case 8:_context3.prev=8;_context3.t0=_context3[\"catch\"](1);dispatch({type:'EXERCISE_ERROR',payload:_context3.t0.response.data.error});case 11:case\"end\":return _context3.stop();}}},_callee3,null,[[1,8]]);}));return _addExercise.apply(this,arguments);}function deleteExercise(_x3){return _deleteExercise.apply(this,arguments);}function _deleteExercise(){_deleteExercise=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(id){return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.prev=0;_context4.next=3;return axios.delete(\"/exercises/\".concat(id));case 3:dispatch({type:'DELETE_EXERCISE',payload:id});_context4.next=9;break;case 6:_context4.prev=6;_context4.t0=_context4[\"catch\"](0);dispatch({type:'EXERCISE_ERROR',payload:_context4.t0.response.data.error});case 9:case\"end\":return _context4.stop();}}},_callee4,null,[[0,6]]);}));return _deleteExercise.apply(this,arguments);}return/*#__PURE__*/React.createElement(ExerciseContext.Provider,{value:{exercises:state.exercises,error:state.error,loading:state.loading,getExercises:getExercises,getExerciseById:getExerciseById,deleteExercise:deleteExercise,addExercise:addExercise}},children);};","map":{"version":3,"sources":["/Users/blancooo/Web-Development/React/react-fitness-tracker/client/src/context/ExerciseState.js"],"names":["React","createContext","useReducer","ExerciseReducer","axios","initialState","exercises","error","loading","ExerciseContext","ExerciseProvider","children","state","dispatch","getExercises","get","res","type","payload","data","response","getExerciseById","id","addExercise","exercise","config","headers","post","deleteExercise","delete"],"mappings":"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","sourcesContent":["// ExerciseState.js\n\nimport React, { createContext, useReducer } from 'react';\nimport ExerciseReducer from './ExerciseReducer';\nimport axios from 'axios';\n\n// Initial state\nconst initialState = {\n exercises: [],\n error: null,\n loading: true\n}\n\n// Create context\nexport const ExerciseContext = createContext(initialState);\n\n\n// Provider component\nexport const ExerciseProvider = ({ children }) => {\n const [state, dispatch] = useReducer(ExerciseReducer, initialState);\n\n // Actions\n // == getExercises\n async function getExercises() {\n  try {\n   const res = await axios.get('/exercises');\n   dispatch({\n    type: 'GET_EXERCISES',\n    payload: res.data.data\n   });\n  } catch (err) {\n   dispatch({\n    type: 'EXERCISE_ERROR',\n    payload: err.response.data.error\n   });\n  }\n }\n\n // == getExerciseByID\n async function getExerciseById(id) {\n  try {\n   const res = await axios.get(`/exercises/${id}`);\n   dispatch({\n    type: 'GET_EXERCISE_By_ID',\n    payload: res.data.data\n   });\n  } catch (err) {\n   dispatch({\n    type: 'EXERCISE_ERROR',\n    payload: err.response.data.error\n   });\n  }\n}\n\n// == addExercise\nasync function addExercise(exercise) {\n const config = {\n  headers: {\n   'Content-Type': 'application/json'\n  }\n }\n try {\n  const res = await axios.post('/exercises/add', exercise, config);\n\n  dispatch({\n   type: 'ADD_EXERCISE',\n   payload: res.data.data\n  });\n } catch (err) {\n  dispatch({\n   type: 'EXERCISE_ERROR',\n   payload: err.response.data.error\n  });\n }\n}\n \n// == deleteExercise\nasync function deleteExercise(id) {\n try {\n  await axios.delete(`/exercises/${id}`);\n\n  dispatch({\n   type: 'DELETE_EXERCISE',\n   payload: id\n  });\n } catch (err) {\n  dispatch({\n   type: 'EXERCISE_ERROR',\n   payload: err.response.data.error\n  });\n }\n}\n\n\n return (\n  <ExerciseContext.Provider value={{\n  exercises: state.exercises,\n  error: state.error,\n  loading: state.loading,\n  getExercises,\n  getExerciseById,\n  deleteExercise,\n  addExercise\n }}>\n  {children}\n </ExerciseContext.Provider>\n);\n}"]},"metadata":{},"sourceType":"module"}