{"ast":null,"code":"import _regeneratorRuntime from\"/Users/blancooo/Web-Development/React/react-fitness-tracker/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/blancooo/Web-Development/React/react-fitness-tracker/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/blancooo/Web-Development/React/react-fitness-tracker/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{createContext,useReducer}from'react';import UserReducer from'./UserReducer';import axios from'axios';var initialState={users:[],error:null,loading:true};// Create context\nexport var UserContext=createContext(initialState);// Provider component\nexport var UserProvider=function UserProvider(_ref){var children=_ref.children;var _useReducer=useReducer(UserReducer,initialState),_useReducer2=_slicedToArray(_useReducer,2),state=_useReducer2[0],dispatch=_useReducer2[1];// Actions\n// == getUsers\nfunction getUsers(){return _getUsers.apply(this,arguments);}// == addUser\nfunction _getUsers(){_getUsers=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get('/users');case 3:res=_context.sent;dispatch({type:'GET_USERS',payload:res.data.data});_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);dispatch({type:'USER_ERROR',payload:_context.t0.response.data.error});case 10:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}));return _getUsers.apply(this,arguments);}function addUser(_x){return _addUser.apply(this,arguments);}// // == deleteUser -- not using currently\n// async function deleteUser(id) {\n//  try {\n//   await axios.delete(`/users/${id}`);\n//   dispatch({\n//    type: 'DELETE_USER',\n//    payload: id\n//   });\n//  } catch (err) {\n//   dispatch({\n//    type: 'USER_ERROR',\n//    payload: err.response.data.error\n//   });\n//  }\n// }\nfunction _addUser(){_addUser=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(newUser){var config,res;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:console.log(\"newUser: \",newUser);config={headers:{'Content-Type':'application/json'}};_context2.prev=2;_context2.next=5;return axios.post('/users/add',newUser,config);case 5:res=_context2.sent;console.log(\"user state response: \",res);dispatch({type:'ADD_USER',payload:res.data.data});_context2.next=13;break;case 10:_context2.prev=10;_context2.t0=_context2[\"catch\"](2);dispatch({type:'USER_ERROR',payload:_context2.t0.response.data.error});case 13:case\"end\":return _context2.stop();}}},_callee2,null,[[2,10]]);}));return _addUser.apply(this,arguments);}return/*#__PURE__*/React.createElement(UserContext.Provider,{value:{users:state.users,error:state.error,loading:state.loading,getUsers:getUsers,addUser:addUser}},children);};","map":{"version":3,"sources":["/Users/blancooo/Web-Development/React/react-fitness-tracker/client/src/context/UserState.js"],"names":["React","createContext","useReducer","UserReducer","axios","initialState","users","error","loading","UserContext","UserProvider","children","state","dispatch","getUsers","get","res","type","payload","data","response","addUser","newUser","console","log","config","headers","post"],"mappings":"wiBAAA,MAAOA,CAAAA,KAAP,EAAgBC,aAAhB,CAA+BC,UAA/B,KAAiD,OAAjD,CACA,MAAOC,CAAAA,WAAP,KAAwB,eAAxB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CAGA,GAAMC,CAAAA,YAAY,CAAG,CACpBC,KAAK,CAAE,EADa,CAEpBC,KAAK,CAAE,IAFa,CAGpBC,OAAO,CAAE,IAHW,CAArB,CAMA;AACA,MAAO,IAAMC,CAAAA,WAAW,CAAGR,aAAa,CAACI,YAAD,CAAjC,CAGP;AACA,MAAO,IAAMK,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,MAAkB,IAAfC,CAAAA,QAAe,MAAfA,QAAe,iBACnBT,UAAU,CAACC,WAAD,CAAcE,YAAd,CADS,4CACtCO,KADsC,iBAC/BC,QAD+B,iBAG7C;AACA;AAJ6C,QAK9BC,CAAAA,QAL8B,2CAqB7C;AArB6C,uFAK7C,iLAEoBV,CAAAA,KAAK,CAACW,GAAN,CAAU,QAAV,CAFpB,QAEQC,GAFR,eAGEH,QAAQ,CAAC,CACRI,IAAI,CAAE,WADE,CAERC,OAAO,CAAEF,GAAG,CAACG,IAAJ,CAASA,IAFV,CAAD,CAAR,CAHF,+EAQEN,QAAQ,CAAC,CACRI,IAAI,CAAE,YADE,CAERC,OAAO,CAAE,YAAIE,QAAJ,CAAaD,IAAb,CAAkBZ,KAFnB,CAAD,CAAR,CARF,oEAL6C,mDAsB9Bc,CAAAA,OAtB8B,4CA4C7C;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA3D6C,qFAsB7C,kBAAuBC,OAAvB,qIACCC,OAAO,CAACC,GAAR,CAAY,WAAZ,CAAyBF,OAAzB,EACMG,MAFP,CAEgB,CACdC,OAAO,CAAE,CACR,eAAgB,kBADR,CADK,CAFhB,yCAQoBtB,CAAAA,KAAK,CAACuB,IAAN,CAAW,YAAX,CAAyBL,OAAzB,CAAkCG,MAAlC,CARpB,QAQQT,GARR,gBASEO,OAAO,CAACC,GAAR,CAAY,uBAAZ,CAAqCR,GAArC,EACAH,QAAQ,CAAC,CACRI,IAAI,CAAE,UADE,CAERC,OAAO,CAAEF,GAAG,CAACG,IAAJ,CAASA,IAFV,CAAD,CAAR,CAVF,qFAeEN,QAAQ,CAAC,CACRI,IAAI,CAAE,YADE,CAERC,OAAO,CAAE,aAAIE,QAAJ,CAAaD,IAAb,CAAkBZ,KAFnB,CAAD,CAAR,CAfF,uEAtB6C,0CA6D7C,mBACC,oBAAC,WAAD,CAAa,QAAb,EAAsB,KAAK,CAAE,CAC5BD,KAAK,CAAEM,KAAK,CAACN,KADe,CAE5BC,KAAK,CAAEK,KAAK,CAACL,KAFe,CAG5BC,OAAO,CAAEI,KAAK,CAACJ,OAHa,CAI5BM,QAAQ,CAARA,QAJ4B,CAK5BO,OAAO,CAAPA,OAL4B,CAA7B,EAOEV,QAPF,CADD,CAWA,CAxEM","sourcesContent":["import React, { createContext, useReducer } from 'react';\nimport UserReducer from './UserReducer';\nimport axios from 'axios';\n\n\nconst initialState = {\n users: [],\n error: null,\n loading: true\n}\n\n// Create context\nexport const UserContext = createContext(initialState);\n\n\n// Provider component\nexport const UserProvider = ({ children }) => {\n const [state, dispatch] = useReducer(UserReducer, initialState);\n\n // Actions\n // == getUsers\n async function getUsers() {\n  try {\n   const res = await axios.get('/users');\n   dispatch({\n    type: 'GET_USERS',\n    payload: res.data.data\n   });\n  } catch (err) {\n   dispatch({\n    type: 'USER_ERROR',\n    payload: err.response.data.error\n   });\n  }\n }\n\n\n // == addUser\n async function addUser(newUser) {\n  console.log(\"newUser: \", newUser);\n  const config = {\n   headers: {\n    'Content-Type': 'application/json'\n   }\n  }\n  try {\n   const res = await axios.post('/users/add', newUser, config);\n   console.log(\"user state response: \", res);\n   dispatch({\n    type: 'ADD_USER',\n    payload: res.data.data\n   });\n  } catch (err) {\n   dispatch({\n    type: 'USER_ERROR',\n    payload: err.response.data.error\n   });\n  }\n }\n\n // // == deleteUser -- not using currently\n // async function deleteUser(id) {\n //  try {\n //   await axios.delete(`/users/${id}`);\n\n //   dispatch({\n //    type: 'DELETE_USER',\n //    payload: id\n //   });\n //  } catch (err) {\n //   dispatch({\n //    type: 'USER_ERROR',\n //    payload: err.response.data.error\n //   });\n //  }\n // }\n\n return (\n  <UserContext.Provider value={{\n   users: state.users,\n   error: state.error,\n   loading: state.loading,\n   getUsers,\n   addUser\n  }}>\n   {children}\n  </UserContext.Provider>\n );\n}"]},"metadata":{},"sourceType":"module"}